<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Animasi Kipas - Kelompok X</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h2>Animasi Objek Tugas 2 — Kipas Angin</h2>

  <div class="container">
    <div class="info">
      <h3>Anggota Kelompok</h3>
      <ul>
        <li>Ammar Ghozy Tanumijaya - NRP 1</li>
        <li>Huraira Shenmue Mahanee - NRP 2</li>
      </ul>

      <h4>Foto objek asli</h4>
      <img src="assets/kipasAngin.jpg" alt="Foto kipas asli" style="max-width: 280px;"/>

      <h4>Video objek asli</h4>
      <p style="font-size: 12px; color: #666;">Video dapat ditambahkan di folder assets/</p>

      <h4>Desain Tree Hierarchical</h4>
      <pre style="font-size: 11px; line-height: 1.5; background: #f5f5f5; padding: 12px; border-radius: 5px;">
<strong style="color: #2c3e50;">Table Fan (Old Table Fan Model)</strong>
│
├─ <strong style="color: #34495e;">1. Base (Static)</strong>
│   ├─ Geometri: Cylinder Z-axis (r=0.4, h=0.1)
│   ├─ Posisi: (0, -0.8, 0) - Dudukan berat di bawah
│   └─ Warna: Hitam (0.2, 0.2, 0.2)
│
├─ <strong style="color: #34495e;">2. Stand/Pole (Static)</strong>
│   ├─ Geometri: Cylinder Y-axis (r=0.05, h=1.0)
│   ├─ Posisi: (0, -0.3, 0) - Tiang vertikal ke atas
│   └─ Warna: Abu-abu gelap (0.3, 0.3, 0.3)
│
├─ <strong style="color: #34495e;">3. Motor Housing (Static)</strong>
│   ├─ Geometri: Cylinder Z-axis (r=0.3, h=0.25)
│   ├─ Posisi: (0, 0.2, -0.15) - Badan motor belakang
│   └─ Warna: Abu-abu gelap (0.25)
│
├─ <strong style="color: #34495e;">4. Frame Guard (Static)</strong>
│   ├─ Ring Luar: Circle Ring (r=0.55, thickness=0.02)
│   ├─ Ring Tengah: Circle Ring (r=0.35, thickness=0.015)
│   ├─ 8 Spokes: Radial dari pusat ke ring luar
│   ├─ Posisi: (0, 0.2, 0.05) - Di depan motor housing
│   └─ Warna: Hitam (0.15, 0.15, 0.15)
│
└─ <strong style="color: #e74c3c;">Rotating Assembly</strong> (Berputar)
    ├─ <strong>Transform: rotate(bladeAngle, Z-axis)</strong> ← Animasi
    │
    ├─ <strong style="color: #95a5a6;">5. Hub/Rotor</strong>
    │   ├─ Geometri: Cylinder Z-axis (r=0.08, h=0.06)
    │   ├─ Posisi: (0, 0.25, 0.0) - Pas di tengah blade
    │   ├─ Warna: Abu-abu (0.35)
    │   └─ Rotasi: 360° di tempat (tidak ikut blade)
    │
    │
    ├─ <strong style="color: #3498db;">6. Blade 1</strong>
    │   ├─ Offset Rotasi: 0°
    │   ├─ Posisi: Y=0.25 (sama dengan rotor)
    │   ├─ Radius: 0.08 → 0.5 (trapezoid)
    │   ├─ Width: 0.12 (tapered)
    │   └─ Warna: Abu-abu terang (0.5)
    │
    ├─ <strong style="color: #3498db;">Blade 2</strong>
    │   ├─ Offset Rotasi: 90°
    │   └─ Posisi: Y=0.25 (sama dengan rotor)
    │
    ├─ <strong style="color: #3498db;">Blade 3</strong>
    │   ├─ Offset Rotasi: 180°
    │   └─ Posisi: Y=0.25 (sama dengan rotor)
    │
    └─ <strong style="color: #3498db;">Blade 4</strong>
        ├─ Offset Rotasi: 270°
        └─ Posisi: Y=0.25 (sama dengan rotor)

<strong>Catatan:</strong>
- Model mengikuti referensi: Old Table Fan (Sketchfab)
- Camera: (1.5, 0.5, 2.5) - perspektif samping-depan
- Hub/Rotor dan semua Blade berada di posisi Y=0.25 (tepat bersama)
- Blade berputar pada sumbu Z sesuai slider kecepatan
- Hub/Rotor berputar 360° konstan di tempat (tidak ikut blade)
- Yaw rotation memutar seluruh kipas (kecuali base dan stand)
- Base di bawah, stand vertikal, motor dan frame di tengah atas
      </pre>

      <div class="controls">
        <label><strong>Kecepatan Blade:</strong></label><br/>
        <input id="speed" type="range" min="0" max="60" value="30" />
        <span id="speedVal">30</span>
        
        <br/><br/>
        <label><strong>Yaw Rotation (Putar Kipas):</strong></label><br/>
        <input id="yaw" type="range" min="-180" max="180" value="0" />
        <span id="yawVal">0</span>°
      </div>
    </div>

    <div>
      <canvas id="gl-canvas" width="800" height="600"></canvas>
    </div>
  </div>

  <script id="vertex-shader" type="x-shader/x-vertex">
  #version 300 es
  precision mediump float;

  in vec4 aPosition;
  in vec3 aNormal;
  in vec4 aColor;

  uniform mat4 modelViewMatrix;
  uniform mat4 projectionMatrix;
  uniform mat3 normalMatrix;

  out vec3 vNormal;
  out vec3 vPosition;
  out vec4 vColor;

  void main() {
    vNormal = normalize(normalMatrix * aNormal);
    vPosition = (modelViewMatrix * aPosition).xyz;
    vColor = aColor;
    gl_Position = projectionMatrix * modelViewMatrix * aPosition;
  }
  </script>

  <script id="fragment-shader" type="x-shader/x-fragment">
  #version 300 es
  precision mediump float;

  in vec3 vNormal;
  in vec3 vPosition;
  in vec4 vColor;

  uniform vec3 lightPosition;
  uniform vec3 ambientProduct;
  uniform vec3 diffuseProduct;
  uniform vec3 specularProduct;
  uniform float shininess;

  out vec4 fColor;

  void main() {
    vec3 N = normalize(vNormal);
    vec3 L = normalize(lightPosition - vPosition);
    float lambert = max(dot(N, L), 0.0);
    vec3 E = normalize(-vPosition);
    vec3 H = normalize(L + E);
    float spec = pow(max(dot(N, H), 0.0), shininess);

    vec3 ambient = ambientProduct;
    vec3 diffuse = diffuseProduct * lambert;
    vec3 specular = specularProduct * spec;

    vec3 color = ambient + diffuse + specular;
    fColor = vec4(vColor.rgb * color, 1.0);
}
  </script>

  <script src="initShaders.js"></script>
  <script src="MVnew.js"></script>
  <script src="kipasAngin.js"></script>
</body>
</html>
