<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Animasi Kipas - Kelompok X</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h2>Animasi Objek Tugas 2 — Kipas Angin</h2>

  <div class="container">
    <div class="info">
      <h3>Anggota Kelompok</h3>
      <ul>
        <li>Ammar Ghozy Tanumijaya - NRP 1</li>
        <li>Huraira Shenmue Mahanee - NRP 2</li>
      </ul>

      <h4>Foto objek asli</h4>
      <img src="assets/kipasAngin.jpg" alt="Foto kipas asli"/>

      <h4>Video objek asli</h4>

      <h4>Desain Tree Hierarchical</h4>

      <div class="controls">
        <label><strong>Kecepatan Blade:</strong></label><br/>
        <input id="speed" type="range" min="0" max="60" value="30" />
        <span id="speedVal">30</span>
        <br/><br/>
        <label><strong>Rotasi Badan (Yaw):</strong></label><br/>
        <input id="yaw" type="range" min="-180" max="180" value="0" />
        <span id="yawVal">0°</span>
      </div>
    </div>

    <div>
      <canvas id="gl-canvas" width="800" height="600"></canvas>
    </div>
  </div>

  <script id="vertex-shader" type="x-shader/x-vertex">
  #version 300 es
  precision mediump float;

  in vec4 aPosition;
  in vec3 aNormal;
  in vec4 aColor;

  uniform mat4 modelViewMatrix;
  uniform mat4 projectionMatrix;
  uniform mat3 normalMatrix;

  out vec3 vNormal;
  out vec3 vPosition;
  out vec4 vColor;

  void main() {
    vNormal = normalize(normalMatrix * aNormal);
    vPosition = (modelViewMatrix * aPosition).xyz;
    vColor = aColor;
    gl_Position = projectionMatrix * modelViewMatrix * aPosition;
  }
  </script>

  <script id="fragment-shader" type="x-shader/x-fragment">
  #version 300 es
  precision mediump float;

  in vec3 vNormal;
  in vec3 vPosition;
  in vec4 vColor;

  uniform vec3 lightPosition;
  uniform vec3 ambientProduct;
  uniform vec3 diffuseProduct;
  uniform vec3 specularProduct;
  uniform float shininess;

  out vec4 fColor;

  void main() {
    vec3 N = normalize(vNormal);
    vec3 L = normalize(lightPosition - vPosition);
    float lambert = max(dot(N, L), 0.0);
    vec3 E = normalize(-vPosition);
    vec3 H = normalize(L + E);
    float spec = pow(max(dot(N, H), 0.0), shininess);

    vec3 ambient = ambientProduct;
    vec3 diffuse = diffuseProduct * lambert;
    vec3 specular = specularProduct * spec;

    vec3 color = ambient + diffuse + specular;
    fColor = vec4(vColor.rgb * color, 1.0);
}
  </script>

  <script src="initShaders.js"></script>
  <script src="MVnew.js"></script>
  <script src="kipasAngin.js"></script>
</body>
</html>
